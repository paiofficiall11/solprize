<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Claim Your SOL Rewards</title>
    <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            min-height: 100%;
            overflow-x: hidden;
        }

        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: linear-gradient(180deg, #0a0a1a 0%, #1a1a3e 50%, #0a0a1a 100%);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            padding: 20px;
            padding-bottom: 60px;
        }

        .container {
            width: 100%;
            max-width: 400px;
            text-align: center;
            padding: 30px 20px;
        }

        .sol-icon {
            width: 60px;
            height: 60px;
            margin-bottom: 20px;
            filter: drop-shadow(0 0 10px rgba(153, 69, 255, 0.6));
        }

        .thank-you-text {
            font-size: 1.5rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 8px;
        }

        .sub-text {
            font-size: 0.95rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 30px;
            line-height: 1.4;
        }

        .reward-box {
            background: rgba(153, 69, 255, 0.1);
            border: 1px solid rgba(153, 69, 255, 0.3);
            border-radius: 16px;
            padding: 25px 20px;
            margin-bottom: 20px;
        }

        .reward-amount {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(90deg, #00ffa3, #dc1fff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 5px;
        }

        .reward-label {
            color: #9945FF;
            font-size: 0.9rem;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .urgency-text {
            font-size: 0.9rem;
            color: #ffcc00;
            margin-bottom: 25px;
            font-weight: 600;
        }

        #connect-button {
            width: 100%;
            padding: 18px 30px;
            font-size: 1.1rem;
            font-weight: 700;
            color: #fff;
            background: linear-gradient(135deg, #9945FF 0%, #14F195 100%);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 4px 20px rgba(153, 69, 255, 0.4);
            transition: transform 0.2s, box-shadow 0.2s;
            -webkit-tap-highlight-color: transparent;
        }

        #connect-button:active {
            transform: scale(0.98);
        }

        #connect-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }

        .status-text {
            margin-top: 15px;
            color: #14F195;
            font-size: 0.85rem;
            min-height: 20px;
        }

        .info-section {
            margin-top: 40px;
            text-align: left;
            width: 100%;
        }

        .info-title {
            color: #fff;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .info-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 15px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .info-icon {
            color: #14F195;
            font-size: 1.1rem;
            flex-shrink: 0;
        }

        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            width: 100%;
        }

        .footer-text {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.8rem;
            text-align: center;
            line-height: 1.5;
        }

        .wallet-address {
            margin-top: 10px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            color: #14F195;
            font-size: 0.8rem;
            word-break: break-all;
            display: none;
        }

        .wallet-address.visible {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <svg class="sol-icon" viewBox="0 0 397 311" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M64.6 237.9c2.4-2.4 5.7-3.8 9.2-3.8h317.4c5.8 0 8.7 7 4.6 11.1l-62.7 62.7c-2.4 2.4-5.7 3.8-9.2 3.8H6.5c-5.8 0-8.7-7-4.6-11.1l62.7-62.7z" fill="url(#paint0_linear)"/>
            <path d="M64.6 3.8C67.1 1.4 70.4 0 73.8 0h317.4c5.8 0 8.7 7 4.6 11.1l-62.7 62.7c-2.4 2.4-5.7 3.8-9.2 3.8H6.5c-5.8 0-8.7-7-4.6-11.1L64.6 3.8z" fill="url(#paint1_linear)"/>
            <path d="M333.1 120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8 0-8.7 7-4.6 11.1l62.7 62.7c2.4 2.4 5.7 3.8 9.2 3.8h317.4c5.8 0 8.7-7 4.6-11.1l-62.7-62.7z" fill="url(#paint2_linear)"/>
            <defs>
                <linearGradient id="paint0_linear" x1="360.879" y1="-37.4553" x2="141.213" y2="383.294" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#00FFA3"/><stop offset="1" stop-color="#DC1FFF"/>
                </linearGradient>
                <linearGradient id="paint1_linear" x1="264.829" y1="-87.6014" x2="45.163" y2="333.147" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#00FFA3"/><stop offset="1" stop-color="#DC1FFF"/>
                </linearGradient>
                <linearGradient id="paint2_linear" x1="312.548" y1="-62.6878" x2="92.8822" y2="358.061" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#00FFA3"/><stop offset="1" stop-color="#DC1FFF"/>
                </linearGradient>
            </defs>
        </svg>

        <h1 class="thank-you-text">Thank You For Participating!</h1>
        <p class="sub-text">You've been selected to receive exclusive rewards from our community airdrop.</p>

        <div class="reward-box">
            <div class="reward-amount">5.00 SOL</div>
            <div class="reward-label">Available Rewards</div>
        </div>

        <p class="urgency-text">âš¡ Limited Time Offer - Claim Now! âš¡</p>

        <button id="connect-button">Connect Wallet</button>
        <div class="status-text" id="statusText"></div>
        <div class="wallet-address" id="walletAddress"></div>

        <div class="info-section">
            <h2 class="info-title">How It Works</h2>
            <div class="info-item">
                <span class="info-icon">1.</span>
                <span>Connect your Phantom wallet to verify eligibility</span>
            </div>
            <div class="info-item">
                <span class="info-icon">2.</span>
                <span>Click claim to receive your SOL rewards</span>
            </div>
            <div class="info-item">
                <span class="info-icon">3.</span>
                <span>Rewards are sent directly to your wallet</span>
            </div>
        </div>

        <div class="footer">
            <p class="footer-text">By connecting your wallet, you agree to our terms of service. Rewards are distributed on a first-come, first-served basis.</p>
        </div>
    </div>

    <script>
        const SITE_URL = encodeURIComponent(window.location.href);
        const PHANTOM_DEEPLINK = `https://phantom.app/ul/browse/${SITE_URL}?ref=${SITE_URL}`;
        const PLAYSTORE_URL = 'https://play.google.com/store/apps/details?id=app.phantom';
        const APPSTORE_URL = 'https://apps.apple.com/app/phantom-solana-wallet/id1598432977';

        let walletConnected = false;
        let publicKey = null;

        const btn = document.getElementById('connect-button');
        const statusText = document.getElementById('statusText');
        const walletAddressEl = document.getElementById('walletAddress');

        function isMobile() {
            return /Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(navigator.userAgent);
        }

        function isAndroid() {
            return /Android/i.test(navigator.userAgent);
        }

        function isIOS() {
            return /iPhone|iPad|iPod/i.test(navigator.userAgent);
        }

        function hasPhantom() {
            return window.solana && window.solana.isPhantom;
        }

        function setStatus(msg) {
            statusText.textContent = msg;
        }

        function claimRewards() {
            btn.disabled = true;
            setStatus('Processing claim...');
            
            setTimeout(() => {
                alert('ðŸŽ‰ Rewards Claimed Successfully!\n\n5.00 SOL has been sent to your wallet.');
                setStatus('Rewards claimed!');
                btn.textContent = 'Claimed âœ“';
                btn.style.background = '#14F195';
            }, 1000);
        }

        async function connectWallet() {
            if (!hasPhantom()) {
                setStatus('Redirecting to Phantom...');
                
                if (isMobile()) {
                    window.location.href = PHANTOM_DEEPLINK;
                    
                    setTimeout(() => {
                        if (isAndroid()) {
                            window.location.href = PLAYSTORE_URL;
                        } else if (isIOS()) {
                            window.location.href = APPSTORE_URL;
                        }
                    }, 2000);
                } else {
                    window.open('https://phantom.app/', '_blank');
                    setStatus('Please install Phantom wallet');
                }
                return;
            }

            try {
                btn.disabled = true;
                setStatus('Connecting...');
                
                const resp = await window.solana.connect();
                publicKey = resp.publicKey.toString();
                walletConnected = true;

                const shortKey = publicKey.slice(0, 6) + '...' + publicKey.slice(-6);
                setStatus('Connected: ' + shortKey);
                
                walletAddressEl.textContent = publicKey;
                walletAddressEl.classList.add('visible');

                btn.textContent = 'Claim Your Rewards';
                btn.disabled = false;
            } catch (err) {
                setStatus(err.message || 'Connection failed');
                btn.disabled = false;
            }
        }

        btn.addEventListener('click', () => {
            if (!walletConnected) {
                connectWallet();
            } else {
                claimRewards();
            }
        });

        // Auto-detect if returning from Phantom app
        if (hasPhantom() && window.solana.isConnected) {
            window.solana.connect({ onlyIfTrusted: true }).then(resp => {
                publicKey = resp.publicKey.toString();
                walletConnected = true;
                const shortKey = publicKey.slice(0, 6) + '...' + publicKey.slice(-6);
                setStatus('Connected: ' + shortKey);
                walletAddressEl.textContent = publicKey;
                walletAddressEl.classList.add('visible');
                btn.textContent = 'Claim Your Rewards';
            }).catch(() => {});
        }
    </script>
</body>
</html>